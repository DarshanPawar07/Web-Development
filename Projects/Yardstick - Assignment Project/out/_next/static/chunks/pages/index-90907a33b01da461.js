(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2836)}])},2836:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Home}});var a=n(5893),r=n(7294),i=n(7536),s=n(4445),c=n.n(s);function TransactionForm(t){let{onSubmit:e,initialValues:n={}}=t,{register:s,handleSubmit:o,formState:{errors:d},reset:l}=(0,i.cI)(),[u,h]=(0,r.useState)(n);(0,r.useEffect)(()=>{l(u)},[u,l]);let handleFormSubmit=async t=>{await e(t),l()};return(0,a.jsxs)("div",{className:c().container,children:[(0,a.jsx)("h2",{children:u._id?"Edit Transaction":"Add New Transaction"}),(0,a.jsxs)("form",{onSubmit:o(handleFormSubmit),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"amount",children:"Amount"}),(0,a.jsx)("input",{id:"amount",type:"number",step:"0.01",...s("amount",{required:"Amount is required"})}),d.amount&&(0,a.jsx)("p",{children:d.amount.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",children:"Description"}),(0,a.jsx)("input",{id:"description",type:"text",...s("description",{required:"Description is required"})}),d.description&&(0,a.jsx)("p",{children:d.description.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",children:"Category"}),(0,a.jsx)("input",{id:"category",type:"text",...s("category",{required:"Category is required"})}),d.category&&(0,a.jsx)("p",{children:d.category.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"date",children:"Date"}),(0,a.jsx)("input",{id:"date",type:"date",...s("date",{required:"Date is required"})}),d.date&&(0,a.jsx)("p",{children:d.date.message})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",children:u._id?"Update Transaction":"Add Transaction"})})]})]})}var o=n(8578),d=n.n(o);function TransactionList(t){let{transactions:e}=t;return(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsx)("h2",{className:d().heading,children:"Transaction List"}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Amount"}),(0,a.jsx)("th",{children:"Description"}),(0,a.jsx)("th",{children:"Category"}),(0,a.jsx)("th",{children:"Date"}),(0,a.jsx)("th",{children:"Actions"})]})}),(0,a.jsx)("tbody",{children:e.map(t=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t.amount}),(0,a.jsx)("td",{children:t.description}),(0,a.jsx)("td",{children:t.category}),(0,a.jsx)("td",{children:t.date}),(0,a.jsxs)("td",{children:[(0,a.jsx)("button",{children:"Edit"}),(0,a.jsx)("button",{children:"Delete"})]})]},t._id))})]})]})}function Dashboard(t){let{transactions:e}=t,n=e.reduce((t,e)=>t+e.amount,0),r=e.reduce((t,e)=>(t[e.category]=(t[e.category]||0)+e.amount,t),{});return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["Total Expenses: $",n]}),(0,a.jsx)("div",{children:Object.entries(r).map(t=>{let[e,n]=t;return(0,a.jsxs)("div",{children:[e,": $",n]},e)})})]})}var l=n(3604),u=n(6208),h=n(6050),j=n(3558);function CategoryChart(t){let{transactions:e}=t,n=e.reduce((t,e)=>(t[e.category]=(t[e.category]||0)+e.amount,t),{}),r=Object.entries(n).map(t=>{let[e,n]=t;return{name:e,value:n}});return(0,a.jsxs)(l.u,{width:400,height:400,children:[(0,a.jsx)(u.b,{data:r,dataKey:"value",nameKey:"name",outerRadius:150,fill:"#8884d8",label:!0}),(0,a.jsx)(h.u,{}),(0,a.jsx)(j.D,{})]})}var _=n(9009),x=n(4831),m=n(4195),p=n(3023),f=n(5358),g=n(8001);function BudgetChart(){let[t,e]=(0,r.useState)([]),[n,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{let fetchData=async()=>{try{let t=await fetch("/api/budget"),n=await t.json();i(n);let a=await fetch("/api/actual"),r=await a.json();e(r)}catch(t){console.error("Error fetching data:",t)}};fetchData()},[]);let s=n.map((e,n)=>{let a=t[n];return{category:e.category,budget:e.value,actual:a?a.value:0}});return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Budget vs Actual"}),(0,a.jsx)(_.h,{width:"100%",height:400,children:(0,a.jsxs)(x.v,{data:s,children:[(0,a.jsx)(m.q,{strokeDasharray:"3 3"}),(0,a.jsx)(p.K,{dataKey:"category"}),(0,a.jsx)(f.B,{}),(0,a.jsx)(h.u,{}),(0,a.jsx)(j.D,{}),(0,a.jsx)(g.$,{dataKey:"budget",fill:"#8884d8"}),(0,a.jsx)(g.$,{dataKey:"actual",fill:"#82ca9d"})]})})]})}function Home(){let[t,e]=(0,r.useState)([]),[n,i]=(0,r.useState)([{name:"Groceries",value:500},{name:"Entertainment",value:200}]);(0,r.useEffect)(()=>{fetch("/api/transactions").then(t=>t.json()).then(t=>e(t))},[]);let handleAddTransaction=async n=>{let a=await fetch("/api/transactions",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}),r=await a.json();e([...t,r])},handleDeleteTransaction=async n=>{await fetch("/api/transactions?id=".concat(n),{method:"DELETE"}),e(t.filter(t=>t._id!==n))};return(0,a.jsxs)("div",{children:[(0,a.jsx)(TransactionForm,{onSubmit:handleAddTransaction}),(0,a.jsx)(Dashboard,{transactions:t}),(0,a.jsx)(CategoryChart,{transactions:t}),(0,a.jsx)(BudgetChart,{budgetData:n,actualData:t}),(0,a.jsx)(TransactionList,{transactions:t,onDelete:handleDeleteTransaction})]})}},4445:function(t){t.exports={container:"TransactionForm_container__2PZrb",heading:"TransactionForm_heading__4s0_g",formContainer:"TransactionForm_formContainer__fs403",label:"TransactionForm_label__Pffck",input:"TransactionForm_input__OgooX",inputNumber:"TransactionForm_inputNumber__m7uzH",inputDate:"TransactionForm_inputDate__FzvMj",inputText:"TransactionForm_inputText__DpgtW",button:"TransactionForm_button__9_l7Q",p:"TransactionForm_p__y88yU"}},8578:function(t){t.exports={container:"TransactionList_container__lDfAX",heading:"TransactionList_heading__zS6Te",table:"TransactionList_table__7w8Yu",th:"TransactionList_th___9bN0",td:"TransactionList_td__4BYR5",tr:"TransactionList_tr__NZ3vV",button:"TransactionList_button__WOD55","error-message":"TransactionList_error-message__KJINC"}}},function(t){t.O(0,[774,555,888,179],function(){return t(t.s=5557)}),_N_E=t.O()}]);